webpackJsonp([17],{"./src/components/pages/Contacts/Contacts.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,o,r,i,c,u,d,m,p=a("./node_modules/babel-runtime/helpers/defineProperty.js"),f=l(p),N=a("./node_modules/babel-runtime/helpers/extends.js"),E=l(N),v=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),C=l(v),S=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=l(S),T=a("./node_modules/babel-runtime/helpers/inherits.js"),b=l(T),O=a("./node_modules/recompose/compose.js"),P=l(O),A=a("./node_modules/recompose/lifecycle.js"),I=l(A),_=a("./node_modules/lodash/fp/size.js"),g=l(_),R=a("./node_modules/lodash/fp/isEmpty.js"),D=l(R),F=a("./node_modules/lodash/fp/toLower.js"),x=l(F),j=a("./node_modules/react/react.js"),y=l(j),L=a("./node_modules/prop-types/index.js"),M=l(L),H=a("./node_modules/react-bootstrap/es/index.js"),V=a("./node_modules/classnames/index.js"),w=l(V),U=a("./node_modules/redux/es/index.js"),B=a("./node_modules/react-redux/es/index.js"),k=a("./src/components/plugin-page-component/PluginListHeader.js"),Y=l(k),K=a("./src/components/plugin-page-component/PluginMainPanel.js"),X=l(K),q=a("./src/components/plugin-page-component/PluginBanner.js"),G=l(q),W=a("./src/components/pages/Contacts/table-columns.config.js"),z=a("./src/components/pages/Contacts/forms.config.js"),J=a("./src/components/pages/Contacts/ContactsCreate/default-values.config.js"),Q=a("./src/components/pages/Contacts/ducks/fetch-patient-contacts.duck.js"),Z=a("./src/components/pages/Contacts/ducks/fetch-patient-contacts-create.duck.js"),$=a("./src/components/pages/Contacts/ducks/fetch-patient-contacts-detail.duck.js"),ee=a("./src/components/pages/Contacts/ducks/fetch-patient-contacts-detail-edit.duck.js"),te=a("./src/utils/HOCs/fetch-patients.utils.js"),ae=a("./src/components/pages/Contacts/selectors.js"),le=a("./src/config/client-urls.constants.js"),se=a("./src/utils/plugin-helpers.utils.js"),ne=a("./src/components/pages/Contacts/ContactsDetail/ContactsDetail.js"),oe=l(ne),re=a("./src/components/plugin-page-component/PluginCreate.js"),ie=l(re),ce=a("./src/components/pages/Contacts/ContactsCreate/ContactsCreateForm.js"),ue=l(ce),de=a("./src/config/for-test.constants.js"),me="contactsMain",pe="contactsCreate",fe="contactPanel",Ne=function(e){return{actions:(0,U.bindActionCreators)({fetchPatientContactsRequest:Q.fetchPatientContactsRequest,fetchPatientContactsCreateRequest:Z.fetchPatientContactsCreateRequest,fetchPatientContactsDetailRequest:$.fetchPatientContactsDetailRequest,fetchPatientContactsDetailEditRequest:ee.fetchPatientContactsDetailEditRequest},e)}},Ee=(s=(0,B.connect)(ae.patientContactsSelector,Ne),n=(0,B.connect)(ae.patientContactsDetailSelector,Ne),o=(0,B.connect)(ae.contactsDetailFormStateSelector),r=(0,B.connect)(ae.contactsCreateFormStateSelector),i=(0,B.connect)(ae.metaPanelFormStateSelector),c=(0,P.default)((0,I.default)(te.fetchPatientContactsOnMount),(0,I.default)(te.fetchPatientContactsDetailOnMount)),s(u=n(u=o(u=r(u=i(u=c((m=d=function(e){function t(){var a,l,s;(0,C.default)(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return a=l=(0,h.default)(this,e.call.apply(e,[this].concat(o))),l.state={nameShouldInclude:"",selectedColumns:W.defaultColumnsSelected,openedPanel:fe,columnNameSortBy:z.valuesNames.NAME,sortingOrder:"asc",expandedPanel:"all",isBtnCreateVisible:!0,isBtnExpandVisible:!1,isAllPanelsVisible:!1,isDetailPanelVisible:!1,isSecondPanel:!1,isCreatePanelVisible:!1,editedPanel:{},offset:0,isSubmit:!1,isLoading:!0},l.handleExpand=function(e,t){t===me?"all"===l.state.expandedPanel?l.setState({expandedPanel:e}):l.setState({expandedPanel:"all"}):"all"===l.state.expandedPanel?l.setState({expandedPanel:e,openedPanel:e}):l.setState({expandedPanel:"all"})},l.handleFilterChange=function(e){var t=e.target.value;return l.setState({nameShouldInclude:(0,x.default)(t)})},l.handleHeaderCellClick=function(e,t){var a=t.name,s=t.sortingOrder;return l.setState({columnNameSortBy:a,sortingOrder:s})},l.handleDetailContactsClick=function(e){var t=l.props,a=t.actions,s=t.userId;l.setState({isSecondPanel:!0,isDetailPanelVisible:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:fe,editedPanel:{},expandedPanel:"all",isLoading:!0}),a.fetchPatientContactsDetailRequest({userId:s,sourceId:e}),l.context.router.history.push(le.clientUrls.PATIENTS+"/"+s+"/"+le.clientUrls.CONTACTS+"/"+e)},l.handleSetOffset=function(e){return l.setState({offset:e})},l.handleCreate=function(){var e=l.props.userId;l.setState({isBtnCreateVisible:!1,isCreatePanelVisible:!0,openedPanel:pe,isSecondPanel:!0,isDetailPanelVisible:!1,isSubmit:!1,isLoading:!0}),l.context.router.history.push(le.clientUrls.PATIENTS+"/"+e+"/"+le.clientUrls.CONTACTS+"/create")},l.handleEdit=function(e){l.setState(function(t){return{editedPanel:(0,E.default)({},t.editedPanel,(0,f.default)({},e,!0)),isSubmit:!1}})},l.handleContactDetailCancel=function(e){l.setState(function(t){return{editedPanel:(0,E.default)({},t.editedPanel,(0,f.default)({},e,!1)),isSubmit:!1,isLoading:!0}})},l.handleSaveSettingsDetailForm=function(e,t){var a=l.props,s=a.actions,n=a.contactsDetailFormState;(0,se.checkIsValidateForm)(n)?(s.fetchPatientContactsDetailEditRequest(l.formValuesToString(e,"edit")),l.setState(function(e){return{editedPanel:(0,E.default)({},e.editedPanel,(0,f.default)({},t,!1)),isSubmit:!1,isLoading:!0}})):l.setState({isSubmit:!0})},l.handleCreateCancel=function(){var e=l.props.userId;l.setState({isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:fe,isSecondPanel:!1,isBtnExpandVisible:!1,expandedPanel:"all",isSubmit:!1,isLoading:!0}),l.context.router.history.push(le.clientUrls.PATIENTS+"/"+e+"/"+le.clientUrls.CONTACTS)},l.handleSaveSettingsCreateForm=function(e){var t=l.props,a=t.actions,s=t.userId,n=t.contactsCreateFormState;(0,se.checkIsValidateForm)(n)?(a.fetchPatientContactsCreateRequest(l.formValuesToString(e,"create")),l.context.router.history.push(le.clientUrls.PATIENTS+"/"+s+"/"+le.clientUrls.CONTACTS),l.hideCreateForm(),l.setState({isSubmit:!1,isLoading:!0})):l.setState({isSubmit:!0})},l.formValuesToString=function(e,t){var a=l.props,s=a.userId,n=a.contactDetail,o={};return o.userId=s,o[z.valuesNames.NAME]=e[z.valuesNames.NAME],o[z.valuesNames.NEXT_OF_KIN]=e[z.valuesNames.NEXT_OF_KIN]||!1,o[z.valuesNames.REALATIONSHIP]=e[z.valuesNames.REALATIONSHIP],o[z.valuesNames.REALATIONSHIP_CODE]=e[z.valuesNames.REALATIONSHIP_CODE],o[z.valuesNames.REALATIONSHIP_TERMINOLOGY]=J.defaultFormValues[z.valuesNames.REALATIONSHIP_TERMINOLOGY],o[z.valuesNames.CONTACT_INFORMATION]=e[z.valuesNames.CONTACT_INFORMATION],o[z.valuesNames.NOTES]=e[z.valuesNames.NOTES],o[z.valuesNames.AUTHOR]=e[z.valuesNames.AUTHOR],o[z.valuesNames.DATE_SUBMITTED]=new Date,o[z.valuesNames.SOURCE]="ethercis","edit"===t&&(o[z.valuesNames.SOURCE_ID]=n[z.valuesNames.SOURCE_ID]),se.operationsOnCollection.propsToString(o,z.valuesNames.DATE_SUBMITTED),o},l.hideCreateForm=function(){l.setState({isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:fe,isSecondPanel:!1})},l.handleShow=function(e){l.setState({openedPanel:e})},l.formToShowCollection=function(e){var t=l.state,a=t.columnNameSortBy,s=t.sortingOrder,n=t.nameShouldInclude;return se.operationsOnCollection.filterAndSort({collection:e,filterBy:n,sortingByKey:a,sortingByOrder:s,filterKeys:[z.valuesNames.NAME,z.valuesNames.REALATIONSHIP,z.valuesNames.NEXT_OF_KIN,z.valuesNames.SOURCE]})},s=a,(0,h.default)(l,s)}return(0,b.default)(t,e),t.prototype.componentWillReceiveProps=function(){var e=this,t=this.context.router.route.match.params.sourceId,a=this.context.router.route.match.params.userId;this.context.router.history.location.pathname===le.clientUrls.PATIENTS+"/"+a+"/"+le.clientUrls.CONTACTS+"/"+t&&void 0!==t&&this.setState({isSecondPanel:!0,isDetailPanelVisible:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!0,isCreatePanelVisible:!1}),this.context.router.history.location.pathname===le.clientUrls.PATIENTS+"/"+a+"/"+le.clientUrls.CONTACTS+"/create"&&this.setState({isSecondPanel:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!1,isCreatePanelVisible:!0,openedPanel:pe,isDetailPanelVisible:!1}),this.context.router.history.location.pathname===le.clientUrls.PATIENTS+"/"+a+"/"+le.clientUrls.CONTACTS&&this.setState({isSecondPanel:!1,isBtnExpandVisible:!1,isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:fe,isDetailPanelVisible:!1,expandedPanel:"all"}),setTimeout(function(){e.setState({isLoading:!1})},500)},t.prototype.render=function(){var e=this.state,t=e.selectedColumns,a=e.columnNameSortBy,l=e.sortingOrder,s=e.isSecondPanel,n=e.isDetailPanelVisible,o=e.isBtnExpandVisible,r=e.expandedPanel,i=e.openedPanel,c=e.isBtnCreateVisible,u=e.isCreatePanelVisible,d=e.editedPanel,m=e.offset,p=e.isSubmit,f=e.isLoading,N=this.props,E=N.allContacts,v=N.contactsDetailFormState,C=N.contactsCreateFormState,S=N.metaPanelFormState,h=N.contactDetail,T="contactsDetail"===r||r===fe||"metaPanel"===r,b=r===me,O=r===pe,P=this.formToShowCollection(E),A=W.columnsConfig.filter(function(e){return t[e.key]}),I=void 0;n&&!(0,D.default)(h)&&(I=h[z.valuesNames.SOURCE_ID]);var _=de.isDevMode?de.testConstants.hostName+"/images/banners/contacts.jpg":"/images/banners/contacts.jpg";return y.default.createElement("section",{className:"page-wrapper"},n||u?null:y.default.createElement(G.default,{title:"Contacts",subTitle:"The key people in your life, that you keep in contact with on a regular basis",img:_}),y.default.createElement("div",{className:(0,w.default)("section",{"full-panel full-panel-main":b,"full-panel full-panel-details":T||O})},y.default.createElement(H.Row,null,b||"all"===r?y.default.createElement(H.Col,{xs:12,className:(0,w.default)({"col-panel-main":s})},y.default.createElement("div",{className:"panel panel-primary"},y.default.createElement(Y.default,{onFilterChange:this.handleFilterChange,panelTitle:"Contacts",isBtnExpandVisible:o,isBtnTableVisible:!1,name:me,onExpand:this.handleExpand,currentPanel:me}),y.default.createElement(X.default,{headers:A,resourceData:E,emptyDataMessage:"No contacts",onHeaderCellClick:this.handleHeaderCellClick,onCellClick:this.handleDetailContactsClick,columnNameSortBy:a,sortingOrder:l,table:"contacts",filteredData:P,totalEntriesAmount:(0,g.default)(P),offset:m,setOffset:this.handleSetOffset,isBtnCreateVisible:c,onCreate:this.handleCreate,id:I,isLoading:f}))):null,"all"!==r&&!T||!n||u?null:y.default.createElement(H.Col,{xs:12,className:(0,w.default)({"col-panel-details":s})},y.default.createElement(oe.default,{onExpand:this.handleExpand,name:"contactsDetail",openedPanel:i,onShow:this.handleShow,expandedPanel:r,currentPanel:"contactsDetail",detail:h,onEdit:this.handleEdit,editedPanel:d,onCancel:this.handleContactDetailCancel,onSaveSettings:this.handleSaveSettingsDetailForm,contactsDetailFormValues:v.values,metaPanelFormValues:S.values,isSubmit:p})),"all"!==r&&!O||!u||n?null:y.default.createElement(H.Col,{xs:12,className:(0,w.default)({"col-panel-details":s})},y.default.createElement(ie.default,{title:"Create Contact",onExpand:this.handleExpand,name:pe,openedPanel:i,onShow:this.handleShow,expandedPanel:r,currentPanel:pe,onSaveSettings:this.handleSaveSettingsCreateForm,formValues:C.values,onCancel:this.handleCreateCancel,isCreatePanelVisible:u,componentForm:y.default.createElement(ue.default,{isSubmit:p})})))))},t}(j.PureComponent),d.propTypes={allContacts:M.default.arrayOf(M.default.object)},d.contextTypes={router:M.default.shape({history:M.default.object})},u=m))||u)||u)||u)||u)||u)||u);t.default=Ee},"./src/components/pages/Contacts/ContactsCreate/ContactsCreateForm.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,o=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=l(o),i=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=l(i),u=a("./node_modules/babel-runtime/helpers/inherits.js"),d=l(u),m=a("./node_modules/react/react.js"),p=l(m),f=a("./node_modules/redux-form/es/index.js"),N=a("./node_modules/react-bootstrap/es/index.js"),E=a("./src/components/form-fields/ValidatedInputFormGroup.js"),v=l(E),C=a("./src/components/form-fields/ValidatedTextareaFormGroup.js"),S=l(C),h=a("./src/components/form-fields/SelectFormGroup.js"),T=l(h),b=a("./src/components/form-fields/DateInput.js"),O=l(b),P=a("./src/components/pages/Contacts/forms.validation.js"),A=a("./src/components/pages/Contacts/forms.config.js"),I=a("./src/components/pages/Contacts/ContactsCreate/default-values.config.js"),_=a("./src/utils/time-helpers.utils.js"),g=(s=(0,f.reduxForm)({form:"contactsCreateFormSelector",validate:P.validateForm}))(n=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){this.props.initialize(I.defaultFormValues)},t.prototype.render=function(){var e=this.props.isSubmit,t=new Date,a=(0,_.getDDMMMYYYY)(t.getTime());return p.default.createElement("div",{className:"panel-body-inner"},p.default.createElement("form",{name:"contactsCreateForm",className:"form"},p.default.createElement("div",{className:"form-group-wrapper"},p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(f.Field,{label:A.valuesLabels.NAME,name:A.valuesNames.NAME,id:A.valuesNames.NAME,type:"text",component:v.default,props:{isSubmit:e}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(N.Row,null,p.default.createElement(N.Col,{md:6,xs:12},p.default.createElement(f.Field,{label:A.valuesLabels.REALATIONSHIP,name:A.valuesNames.REALATIONSHIP,id:A.valuesNames.REALATIONSHIP,options:A.relationshipOptions,component:T.default,props:{isSubmit:e}})),p.default.createElement(N.Col,{md:6,xs:12},p.default.createElement(f.Field,{label:A.valuesLabels.NEXT_OF_KIN,name:A.valuesNames.NEXT_OF_KIN,id:A.valuesNames.NEXT_OF_KIN,type:"checkbox",component:v.default,props:{isSubmit:e}})))),p.default.createElement("div",{className:"col-expand-right"},p.default.createElement(f.Field,{label:A.valuesLabels.REALATIONSHIP_TYPE,name:A.valuesNames.REALATIONSHIP_CODE,id:A.valuesNames.REALATIONSHIP_CODE,options:A.relationshipTypeOptions,component:T.default,props:{isSubmit:e}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(f.Field,{label:A.valuesLabels.CONTACT_INFORMATION,name:A.valuesNames.CONTACT_INFORMATION,id:A.valuesNames.CONTACT_INFORMATION,component:S.default,props:{isSubmit:e}})),p.default.createElement("div",{className:"col-expand-right"},p.default.createElement(f.Field,{label:A.valuesLabels.NOTES,name:A.valuesNames.NOTES,id:A.valuesNames.NOTES,component:S.default,props:{isSubmit:e}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(f.Field,{label:A.valuesLabels.AUTHOR,name:A.valuesNames.AUTHOR,id:A.valuesNames.AUTHOR,component:v.default,props:{disabled:!0,isSubmit:e}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-right"},p.default.createElement(f.Field,{label:A.valuesLabels.DATE,name:A.valuesNames.DATE,id:A.valuesNames.DATE,component:O.default,props:{disabled:!0,value:a,format:"DD-MMM-YYYY",isSubmit:e}}))))))},t}(m.PureComponent))||n;t.default=g},"./src/components/pages/Contacts/ContactsCreate/default-values.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFormValues=void 0;var l,s=a("./node_modules/babel-runtime/helpers/defineProperty.js"),n=function(e){return e&&e.__esModule?e:{default:e}}(s),o=a("./src/components/pages/Contacts/forms.config.js");t.defaultFormValues=(l={},(0,n.default)(l,o.valuesNames.AUTHOR,"bob.smith@gmail.com"),(0,n.default)(l,o.valuesNames.SOURCE_ID,""),(0,n.default)(l,o.valuesNames.REALATIONSHIP_CODE,""),(0,n.default)(l,o.valuesNames.REALATIONSHIP_TERMINOLOGY,"local"),l)},"./src/components/pages/Contacts/ContactsDetail/ContactsDetail.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),n=l(s),o=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),r=l(o),i=a("./node_modules/babel-runtime/helpers/inherits.js"),c=l(i),u=a("./node_modules/react/react.js"),d=l(u),m=a("./src/components/plugin-page-component/PluginDetailPanel.js"),p=l(m),f=a("./src/components/pages/Contacts/ContactsDetail/ContactsDetailForm.js"),N=l(f),E=a("./src/utils/time-helpers.utils.js"),v=a("./src/components/pages/Contacts/forms.config.js"),C=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,e.apply(this,arguments))}return(0,c.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onExpand,a=e.onShow,l=e.openedPanel,s=e.expandedPanel,n=e.currentPanel,o=e.onEdit,r=e.editedPanel,i=e.onCancel,c=e.onSaveSettings,u=e.contactsDetailFormValues,m=(e.metaPanelFormValues,e.isSubmit),f=this.props.detail;f=f||{};var C=(0,E.getDDMMMYYYY)(f[v.valuesNames.DATE_CREATED]);return d.default.createElement("div",{className:"section-detail"},d.default.createElement("div",{className:"panel-group accordion"},"contactPanel"!==s&&"all"!==s||r.contactPanel?null:d.default.createElement(p.default,{onExpand:t,name:"contactPanel",title:"Contact",onShow:a,isOpen:"contactPanel"===l,currentPanel:n,onEdit:o,editedPanel:r,onCancel:i,onSaveSettings:c,formValues:u,isBtnShowPanel:!0},d.default.createElement("div",{className:"panel-body-inner"},d.default.createElement("div",{className:"form"},d.default.createElement("div",{className:"form-group-wrapper"},d.default.createElement("div",{className:"row-expand"},d.default.createElement("div",{className:"col-expand-left"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.NAME),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.NAME]))),d.default.createElement("div",{className:"col-expand-right"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.REALATIONSHIP),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.REALATIONSHIP])))),d.default.createElement("div",{className:"row-expand"},d.default.createElement("div",{className:"col-expand-left"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.REALATIONSHIP_TYPE),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.REALATIONSHIP_TYPE])),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.CONTACT_INFORMATION),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.CONTACT_INFORMATION]))),d.default.createElement("div",{className:"col-expand-right"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.NEXT_OF_KIN),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.NEXT_OF_KIN]?"Yes":"No")))),d.default.createElement("div",{className:"row-expand"},d.default.createElement("div",{className:"col-expand-left"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.NOTES),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.NOTES])))),d.default.createElement("div",{className:"row-expand"},d.default.createElement("div",{className:"col-expand-left"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.AUTHOR),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.AUTHOR]))),d.default.createElement("div",{className:"col-expand-right"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.DATE),d.default.createElement("div",{className:"form-control-static"},C)))),d.default.createElement("div",{className:"row-expand"},d.default.createElement("div",{className:"col-expand-left"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{className:"control-label"},v.valuesLabels.SOURCE),d.default.createElement("div",{className:"form-control-static"},f[v.valuesNames.SOURCE])))))))),"contactPanel"!==s&&"all"!==s||!r.contactPanel?null:d.default.createElement(p.default,{onExpand:t,name:"contactPanel",title:"Edit Contact",onShow:a,isOpen:"contactPanel"===l,currentPanel:n,onEdit:o,editedPanel:r,onCancel:i,onSaveSettings:c,formValues:u,isBtnShowPanel:!0},d.default.createElement(N.default,{detail:f,isSubmit:m}))))},t}(u.PureComponent);t.default=C},"./src/components/pages/Contacts/ContactsDetail/ContactsDetailForm.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,o=a("./node_modules/babel-runtime/helpers/defineProperty.js"),r=l(o),i=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=l(i),u=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=l(u),m=a("./node_modules/babel-runtime/helpers/inherits.js"),p=l(m),f=a("./node_modules/react/react.js"),N=l(f),E=a("./node_modules/redux-form/es/index.js"),v=a("./node_modules/react-bootstrap/es/index.js"),C=a("./src/components/form-fields/ValidatedInputFormGroup.js"),S=l(C),h=a("./src/components/form-fields/ValidatedTextareaFormGroup.js"),T=l(h),b=a("./src/components/form-fields/SelectFormGroup.js"),O=l(b),P=a("./src/components/form-fields/DateInput.js"),A=l(P),I=a("./src/components/pages/Contacts/forms.validation.js"),_=a("./src/components/pages/Contacts/forms.config.js"),g=(s=(0,E.reduxForm)({form:"contactsDetailFormSelector",validate:I.validateForm}))(n=function(e){function t(){return(0,c.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.detail;(0,e.initialize)(this.defaultValuesForm(t))},t.prototype.defaultValuesForm=function(e){var t,a=(t={},(0,r.default)(t,_.valuesNames.NAME,e[_.valuesNames.NAME]),(0,r.default)(t,_.valuesNames.REALATIONSHIP,e[_.valuesNames.REALATIONSHIP]),(0,r.default)(t,_.valuesNames.NEXT_OF_KIN,e[_.valuesNames.NEXT_OF_KIN]),(0,r.default)(t,_.valuesNames.REALATIONSHIP_CODE,e[_.valuesNames.REALATIONSHIP_CODE]),(0,r.default)(t,_.valuesNames.CONTACT_INFORMATION,e[_.valuesNames.CONTACT_INFORMATION]),(0,r.default)(t,_.valuesNames.NOTES,e[_.valuesNames.NOTES]),(0,r.default)(t,_.valuesNames.AUTHOR,e[_.valuesNames.AUTHOR]),t);return a[_.valuesNames.REALATIONSHIP_CODE]||_.relationshipTypeOptions.forEach(function(t){t.title===e[_.valuesNames.REALATIONSHIP_TYPE]&&(a[_.valuesNames.REALATIONSHIP_CODE]=t.value)}),a},t.prototype.render=function(){var e=this.props,t=e.detail,a=e.isSubmit;return N.default.createElement("div",{className:"panel-body-inner"},N.default.createElement("form",{name:"contactsDetailForm",className:"form"},N.default.createElement("div",{className:"form-group-wrapper"},N.default.createElement("div",{className:"row-expand"},N.default.createElement("div",{className:"col-expand-left"},N.default.createElement(E.Field,{label:_.valuesLabels.NAME,name:_.valuesNames.NAME,id:_.valuesNames.NAME,type:"text",component:S.default,props:{isSubmit:a}}))),N.default.createElement("div",{className:"row-expand"},N.default.createElement("div",{className:"col-expand-left"},N.default.createElement(v.Row,null,N.default.createElement(v.Col,{md:6,xs:12},N.default.createElement(E.Field,{label:_.valuesLabels.REALATIONSHIP,name:_.valuesNames.REALATIONSHIP,id:_.valuesNames.REALATIONSHIP,options:_.relationshipOptions,component:O.default,props:{isSubmit:a}})),N.default.createElement(v.Col,{md:6,xs:12},N.default.createElement(E.Field,{label:_.valuesLabels.NEXT_OF_KIN,name:_.valuesNames.NEXT_OF_KIN,id:_.valuesNames.NEXT_OF_KIN,type:"checkbox",component:S.default,props:{isSubmit:a}})))),N.default.createElement("div",{className:"col-expand-right"},N.default.createElement(E.Field,{label:_.valuesLabels.REALATIONSHIP_TYPE,name:_.valuesNames.REALATIONSHIP_CODE,id:_.valuesNames.REALATIONSHIP_CODE,options:_.relationshipTypeOptions,component:O.default,props:{isSubmit:a}}))),N.default.createElement("div",{className:"row-expand"},N.default.createElement("div",{className:"col-expand-left"},N.default.createElement(E.Field,{label:_.valuesLabels.CONTACT_INFORMATION,name:_.valuesNames.CONTACT_INFORMATION,id:_.valuesNames.CONTACT_INFORMATION,component:T.default,props:{isSubmit:a}})),N.default.createElement("div",{className:"col-expand-right"},N.default.createElement(E.Field,{label:_.valuesLabels.NOTES,name:_.valuesNames.NOTES,id:_.valuesNames.NOTES,component:T.default,props:{isSubmit:a}}))),N.default.createElement("div",{className:"row-expand"},N.default.createElement("div",{className:"col-expand-left"},N.default.createElement(E.Field,{label:_.valuesLabels.AUTHOR,name:_.valuesNames.AUTHOR,id:_.valuesNames.AUTHOR,component:S.default,props:{disabled:!0,isSubmit:a}})),N.default.createElement("div",{className:"col-expand-right"},N.default.createElement(E.Field,{label:_.valuesLabels.DATE,name:_.valuesNames.DATE,id:_.valuesNames.DATE,component:A.default,props:{disabled:!0,value:t[_.valuesNames.DATE_CREATED],format:"DD-MMM-YYYY",isSubmit:a}}))))))},t}(f.PureComponent))||n;t.default=g},"./src/components/pages/Contacts/forms.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.valuesNames={NAME:"name",REALATIONSHIP:"relationship",NEXT_OF_KIN:"nextOfKin",REALATIONSHIP_TYPE:"relationshipType",REALATIONSHIP_CODE:"relationshipCode",REALATIONSHIP_TERMINOLOGY:"relationshipTerminology",CONTACT_INFORMATION:"contactInformation",NOTES:"notes",AUTHOR:"author",DATE:"currentDate",DATE_CREATED:"dateCreated",DATE_SUBMITTED:"dateSubmitted",SOURCE:"source",SOURCE_ID:"sourceId"},t.valuesLabels={NAME:"Name",REALATIONSHIP:"Relationship",NEXT_OF_KIN:"Next of Kin",REALATIONSHIP_TYPE:"Relationship Type",REALATIONSHIP_CODE:"Relationship Code",REALATIONSHIP_TERMINOLOGY:"Relationship Terminology",CONTACT_INFORMATION:"Contact Information",NOTES:"Note",AUTHOR:"Author",DATE:"Date",SOURCE:"Source",SOURCE_ID:"Source ID"},t.relationshipOptions=[{value:"Husband",title:"Husband"},{value:"Wife",title:"Wife"},{value:"Father",title:"Father"},{value:"Alone",title:"Alone"},{value:"Mother",title:"Mother"},{value:"Daughter",title:"Daughter"},{value:"Son",title:"Son"},{value:"Brother",title:"Brother"},{value:"Sister",title:"Sister"},{value:"Friend",title:"Friend"},{value:"Family friend",title:"Family friend"},{value:"Neighbour",title:"Neighbour"},{value:"District Nurse",title:"District Nurse"},{value:"Primary Care Worker",title:"Primary Care Worker"},{value:"Allocated social worker",title:"Allocated social worker"},{value:"Care C-ordinator",title:"Care C-ordinator"}],t.relationshipTypeOptions=[{value:"at0036",title:"Informal carer"},{value:"at0037",title:"Main informal carer"},{value:"at0038",title:"Formal care worker"},{value:"at0039",title:"Key formal care worker"}]},"./src/components/pages/Contacts/forms.validation.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateForm=void 0;var l=a("./src/components/pages/Contacts/forms.config.js"),s=function(e){var t={};return t[l.valuesNames.NAME]=e[l.valuesNames.NAME]?null:"You must enter a value.",t[l.valuesNames.REALATIONSHIP]=e[l.valuesNames.REALATIONSHIP]?null:"You must enter a value.",t[l.valuesNames.NEXT_OF_KIN]=null,t[l.valuesNames.REALATIONSHIP_CODE]=e[l.valuesNames.REALATIONSHIP_CODE]?null:"You must enter a value.",t[l.valuesNames.CONTACT_INFORMATION]=e[l.valuesNames.CONTACT_INFORMATION]?null:"You must enter a value.",t[l.valuesNames.NOTES]=e[l.valuesNames.NOTES]?null:"You must enter a value.",t};t.validateForm=s},"./src/components/pages/Contacts/selectors.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientContactsDetailSelector=t.metaPanelFormStateSelector=t.contactsCreateFormStateSelector=t.contactsDetailFormStateSelector=t.patientContactsSelector=void 0;var l=a("./node_modules/lodash/fp/getOr.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),n=a("./node_modules/reselect/lib/index.js"),o=a("./src/utils/plugin-helpers.utils.js"),r=a("./src/components/pages/Contacts/forms.config.js"),i=(0,s.default)({},"form.contactsCreateFormSelector"),c=(0,s.default)({},"form.contactsDetailFormSelector"),u=(0,s.default)({},"form.metaPanelFormSelector"),d=(0,n.createSelector)(function(e){return e.patientsContacts},function(e,t){return(0,s.default)(null,"match.params.userId",t)},function(e,t){return{allContacts:o.operationsOnCollection.modificate(e[t],[{key:r.valuesNames.NEXT_OF_KIN,fn:function(e){return e||!1}}]),userId:t}}),m=(0,n.createSelector)(c,function(e){return{contactsDetailFormState:e}}),p=(0,n.createSelector)(i,function(e){return{contactsCreateFormState:e}}),f=(0,n.createSelector)(u,function(e){return{metaPanelFormState:e}}),N=(0,n.createSelector)(function(e){return e.contactsDetail},function(e,t){return(0,s.default)(null,"match.params.userId",t)},function(e,t){return{contactDetail:e[t],userId:t}});t.patientContactsSelector=d,t.contactsDetailFormStateSelector=m,t.contactsCreateFormStateSelector=p,t.metaPanelFormStateSelector=f,t.patientContactsDetailSelector=N},"./src/components/pages/Contacts/table-columns.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultColumnsSelected=t.columnsConfig=void 0;var l=a("./src/utils/table-helpers/table.utils.js");t.columnsConfig=[{key:"name",title:"Name",width:"28%"},{key:"relationship",title:"Relationship",width:"28%"},{key:"nextOfKin",title:"Next Of Kin",transformer:l.formatYesNo,width:"25%"},{key:"source",title:"Source",width:"19%"},{key:"sourceId",title:"SourceID",display:"none"}],t.defaultColumnsSelected={name:!0,relationship:!0,nextOfKin:!0,source:!0,sourceId:!0}},"./src/components/plugin-page-component/PluginBanner.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,o=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=l(o),i=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=l(i),u=a("./node_modules/babel-runtime/helpers/inherits.js"),d=l(u),m=a("./node_modules/react/react.js"),p=l(m),f=a("./node_modules/prop-types/index.js"),N=l(f),E=a("./src/themes.config.js"),v=(n=s=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.subTitle,l=e.img,s=e.toRight,n=e.isShowPluginsBigBanner;return E.themeConfigs.isShowPluginsBigBanner||n?p.default.createElement("div",{className:"page-banner"},p.default.createElement("div",{className:"page-banner__title "+(s?"page-banner__title--right":"")},t),p.default.createElement("div",{className:"page-banner__subtitle "+(s?"page-banner__subtitle--right":"")},a),p.default.createElement("img",{className:"page-banner__img",src:l,alt:""})):p.default.createElement("div",null)},t}(m.PureComponent),s.propTypes={title:N.default.string.isRequired,subTitle:N.default.string.isRequired,img:N.default.any.isRequired},s.defaultProps={toRight:!1},n);t.default=v}});