webpackJsonp([18],{"./src/components/form-fields/TextareaWithButton.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,l=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),o=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n(o),c=a("./node_modules/babel-runtime/helpers/inherits.js"),u=n(c),m=a("./node_modules/react/react.js"),p=n(m),f=a("./node_modules/prop-types/index.js"),E=n(f),y=a("./node_modules/redux-form/es/index.js"),h=(r=s=function(e){function t(){return(0,i.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return console.log(this.props.fieldProps),p.default.createElement("div",null,p.default.createElement("div",{className:"control-group right buttoned-control-group"},this.props.button),p.default.createElement(y.Field,this.props.fieldProps))},t}(m.PureComponent),s.propTypes={button:E.default.object.isRequired,fieldProps:E.default.object.isRequired},r);t.default=h},"./src/components/pages/DiaryEntry/DiaryEntry.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,l,i,o,d,c,u,m=a("./node_modules/babel-runtime/helpers/defineProperty.js"),p=n(m),f=a("./node_modules/babel-runtime/helpers/extends.js"),E=n(f),y=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),h=n(y),v=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),S=n(v),D=a("./node_modules/babel-runtime/helpers/inherits.js"),b=n(D),N=a("./node_modules/recompose/compose.js"),g=n(N),P=a("./node_modules/recompose/lifecycle.js"),C=n(P),T=a("./node_modules/lodash/fp/size.js"),_=n(T),R=a("./node_modules/lodash/fp/isEmpty.js"),j=n(R),x=a("./node_modules/lodash/fp/toLower.js"),O=n(x),A=a("./node_modules/react/react.js"),I=n(A),Y=a("./node_modules/prop-types/index.js"),F=n(Y),V=a("./node_modules/react-bootstrap/es/index.js"),U=a("./node_modules/classnames/index.js"),w=n(U),M=a("./node_modules/redux/es/index.js"),k=a("./node_modules/react-redux/es/index.js"),B=a("./src/components/plugin-page-component/PluginListHeader.js"),L=n(B),H=a("./src/components/plugin-page-component/PluginCreate.js"),q=n(H),G=a("./src/components/plugin-page-component/PluginMainPanel.js"),W=n(G),z=a("./src/components/pages/DiaryEntry/DiaryEntryCreate/DiaryEntryCreateForm.js"),K=n(z),J=a("./src/components/pages/DiaryEntry/table-columns.config.js"),Q=a("./src/components/pages/DiaryEntry/ducks/fetch-patient-diary-entry.duck.js"),X=a("./src/components/pages/DiaryEntry/ducks/fetch-patient-diary-entry-detail.duck.js"),Z=a("./src/components/pages/DiaryEntry/ducks/fetch-patient-diary-entry-detail-edit.duck.js"),$=a("./src/components/pages/DiaryEntry/ducks/fetch-patient-diary-entry-create.duck.js"),ee=a("./src/utils/HOCs/fetch-patients.utils.js"),te=a("./src/components/pages/DiaryEntry/selectors.js"),ae=a("./src/config/client-urls.constants.js"),ne=a("./src/components/pages/DiaryEntry/DiaryEntryDetail/DiaryEntryDetail.js"),se=n(ne),re=a("./src/components/pages/DiaryEntry/forms.config.js"),le=a("./src/utils/time-helpers.utils.js"),ie=a("./src/utils/plugin-helpers.utils.js"),oe="diaryEntriesMain",de="diaryEntriesCreate",ce="diaryEntriesPanel",ue=function(e){return{actions:(0,M.bindActionCreators)({fetchPatientDiaryEntryRequest:Q.fetchPatientDiaryEntryRequest,fetchPatientDiaryEntryDetailRequest:X.fetchPatientDiaryEntryDetailRequest,fetchPatientDiaryEntryDetailEditRequest:Z.fetchPatientDiaryEntryDetailEditRequest,fetchPatientDiaryEntryCreateRequest:$.fetchPatientDiaryEntryCreateRequest},e)}},me=(s=(0,k.connect)(te.patientDiaryEntrySelector,ue),r=(0,k.connect)(te.patientDiaryEntryDetailSelector,ue),l=(0,k.connect)(te.diaryEntryDetailFormSelector),i=(0,k.connect)(te.diaryEntryCreateFormStateSelector),o=(0,g.default)((0,C.default)(ee.fetchPatientDiaryEntryOnMount),(0,C.default)(ee.fetchPatientDiaryEntryDetailOnMount)),s(d=r(d=l(d=i(d=o((u=c=function(e){function t(){var a,n,s;(0,h.default)(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=(0,S.default)(this,e.call.apply(e,[this].concat(l))),n.state={nameShouldInclude:"",selectedColumns:J.defaultColumnsSelected,openedPanel:ce,columnNameSortBy:re.valuesNames.TYPE,sortingOrder:"asc",expandedPanel:"all",isBtnCreateVisible:!0,isBtnExpandVisible:!1,isAllPanelsVisible:!1,isDetailPanelVisible:!1,isSecondPanel:!1,isCreatePanelVisible:!1,editedPanel:{},offset:0,isSubmit:!1,isLoading:!0},n.handleExpand=function(e,t){t===oe?"all"===n.state.expandedPanel?n.setState({expandedPanel:e}):n.setState({expandedPanel:"all"}):"all"===n.state.expandedPanel?n.setState({expandedPanel:e,openedPanel:e}):n.setState({expandedPanel:"all"})},n.handleFilterChange=function(e){var t=e.target.value;return n.setState({nameShouldInclude:(0,O.default)(t)})},n.handleHeaderCellClick=function(e,t){var a=t.name,s=t.sortingOrder;return n.setState({columnNameSortBy:a,sortingOrder:s})},n.handleDetailDiaryEntryClick=function(e){var t=n.props,a=t.actions,s=t.userId;n.setState({isSecondPanel:!0,isDetailPanelVisible:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:ce,editedPanel:{},expandedPanel:"all",isLoading:!0}),a.fetchPatientDiaryEntryDetailRequest({userId:s,sourceId:e}),n.context.router.history.push(ae.clientUrls.PATIENTS+"/"+s+"/"+ae.clientUrls.DIARY_ENTRY+"/"+e)},n.handleSetOffset=function(e){return n.setState({offset:e})},n.handleCreate=function(){var e=n.props.userId;n.setState({isBtnCreateVisible:!1,isCreatePanelVisible:!0,openedPanel:de,isSecondPanel:!0,isDetailPanelVisible:!1,isBtnExpandVisible:!0,expandedPanel:"all",isSubmit:!1,isLoading:!0}),n.context.router.history.push(ae.clientUrls.PATIENTS+"/"+e+"/"+ae.clientUrls.DIARY_ENTRY+"/create")},n.handleEdit=function(e){n.setState(function(t){return{editedPanel:(0,E.default)({},t.editedPanel,(0,p.default)({},e,!0)),isSubmit:!1}})},n.handleDiaryEntryDetailCancel=function(e){n.setState(function(t){return{editedPanel:(0,E.default)({},t.editedPanel,(0,p.default)({},e,!1)),isSubmit:!1,isLoading:!0}})},n.handleSaveSettingsDetailForm=function(e,t){var a=n.props,s=a.actions,r=a.diaryEntryFormState;(0,ie.checkIsValidateForm)(r)?(s.fetchPatientDiaryEntryDetailEditRequest(n.formValuesToString(e,"edit")),n.setState(function(e){return{editedPanel:(0,E.default)({},e.editedPanel,(0,p.default)({},t,!1)),isSubmit:!1,isLoading:!0}})):n.setState({isSubmit:!0})},n.handleCreateCancel=function(){var e=n.props.userId;n.setState({isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:ce,isSecondPanel:!1,isBtnExpandVisible:!1,expandedPanel:"all",isSubmit:!1,isLoading:!0}),n.context.router.history.push(ae.clientUrls.PATIENTS+"/"+e+"/"+ae.clientUrls.DIARY_ENTRY)},n.handleSaveSettingsCreateForm=function(e){var t=n.props,a=t.actions,s=t.userId,r=t.diaryEntryCreateFormState;(0,ie.checkIsValidateForm)(r)?(a.fetchPatientDiaryEntryCreateRequest(n.formValuesToString(e,"create")),n.context.router.history.push(ae.clientUrls.PATIENTS+"/"+s+"/"+ae.clientUrls.DIARY_ENTRY),n.hideCreateForm(),n.setState({isLoading:!0})):n.setState({isSubmit:!0})},n.formValuesToString=function(e,t){var a=n.props,s=a.userId,r=a.diaryEntryDetail,l={};return l.userId=s,l[re.valuesNames.TYPE]=e[re.valuesNames.TYPE],l[re.valuesNames.NOTE]=e[re.valuesNames.NOTE],l[re.valuesNames.AUTHOR]=e[re.valuesNames.AUTHOR],"edit"===t&&(l[re.valuesNames.DATE]=e[re.valuesNames.DATE],l[re.valuesNames.SOURCE_ID]=r[re.valuesNames.SOURCE_ID],l[re.valuesNames.SOURCE]=r[re.valuesNames.SOURCE]),"create"===t&&(l[re.valuesNames.SOURCE]=e[re.valuesNames.SOURCE]),ie.operationsOnCollection.propsToString(l,re.valuesNames.DATE),l},n.hideCreateForm=function(){n.setState({isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:ce,isSecondPanel:!1,expandedPanel:"all",isBtnExpandVisible:!1})},n.formToShowCollection=function(e){var t=n.state,a=t.columnNameSortBy,s=t.sortingOrder,r=t.nameShouldInclude;return e=ie.operationsOnCollection.modificate(e,[{keyFrom:re.valuesNames.DATE_CREATED,keyTo:re.valuesNames.DATE_CREATED+"Convert",fn:le.getDDMMMYYYY}]),ie.operationsOnCollection.filterAndSort({collection:e,filterBy:r,sortingByKey:a,sortingByOrder:s,filterKeys:[re.valuesNames.TYPE,re.valuesNames.AUTHOR,re.valuesNames.DATE_CREATED+"Convert",re.valuesNames.SOURCE]})},s=a,(0,S.default)(n,s)}return(0,b.default)(t,e),t.prototype.componentWillReceiveProps=function(){var e=this,t=this.context.router.route.match.params.sourceId,a=this.context.router.route.match.params.userId;this.context.router.history.location.pathname===ae.clientUrls.PATIENTS+"/"+a+"/"+ae.clientUrls.DIARY_ENTRY+"/"+t&&void 0!==t&&this.setState({isSecondPanel:!0,isDetailPanelVisible:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!0,isCreatePanelVisible:!1}),this.context.router.history.location.pathname===ae.clientUrls.PATIENTS+"/"+a+"/"+ae.clientUrls.DIARY_ENTRY+"/create"&&this.setState({isSecondPanel:!0,isBtnExpandVisible:!0,isBtnCreateVisible:!1,isCreatePanelVisible:!0,openedPanel:de,isDetailPanelVisible:!1}),this.context.router.history.location.pathname===ae.clientUrls.PATIENTS+"/"+a+"/"+ae.clientUrls.DIARY_ENTRY&&this.setState({isSecondPanel:!1,isBtnExpandVisible:!1,isBtnCreateVisible:!0,isCreatePanelVisible:!1,openedPanel:ce,isDetailPanelVisible:!1,expandedPanel:"all"}),setTimeout(function(){e.setState({isLoading:!1})},500)},t.prototype.render=function(){var e=this.state,t=e.selectedColumns,a=e.columnNameSortBy,n=e.sortingOrder,s=e.isSecondPanel,r=e.isDetailPanelVisible,l=e.isBtnExpandVisible,i=e.expandedPanel,o=e.openedPanel,d=e.isBtnCreateVisible,c=e.isCreatePanelVisible,u=e.editedPanel,m=e.offset,p=e.isSubmit,f=e.isLoading,E=this.props,y=E.allDiaryEntry,h=E.diaryEntryDetail,v=E.diaryEntryFormState,S=E.diaryEntryCreateFormState,D="diaryEntriesDetail"===i||i===ce,b=i===oe,N=i===de,g=J.columnsConfig.filter(function(e){return t[e.key]}),P=this.formToShowCollection(y),C=void 0;return r&&!(0,j.default)(h)&&(C=h[re.valuesNames.SOURCE_ID]),I.default.createElement("section",{className:"page-wrapper"},I.default.createElement("div",{className:(0,w.default)("section",{"full-panel full-panel-main":b,"full-panel full-panel-details":D||N})},I.default.createElement(V.Row,null,b||"all"===i?I.default.createElement(V.Col,{xs:12,className:(0,w.default)({"col-panel-main":s})},I.default.createElement("div",{className:"panel panel-primary"},I.default.createElement(L.default,{onFilterChange:this.handleFilterChange,panelTitle:"Diary Entry List",isBtnExpandVisible:l,isBtnTableVisible:!0,name:oe,onExpand:this.handleExpand,currentPanel:oe}),I.default.createElement(W.default,{headers:g,resourceData:y,emptyDataMessage:"No Diary Entry List",onHeaderCellClick:this.handleHeaderCellClick,onCellClick:this.handleDetailDiaryEntryClick,columnNameSortBy:a,sortingOrder:n,table:"diaryEntries",filteredData:P,totalEntriesAmount:(0,_.default)(P),offset:m,setOffset:this.handleSetOffset,isBtnCreateVisible:d,onCreate:this.handleCreate,id:C,isLoading:f}))):null,"all"!==i&&!D||!r||c?null:I.default.createElement(V.Col,{xs:12,className:(0,w.default)({"col-panel-details":s})},I.default.createElement(se.default,{onExpand:this.handleExpand,name:"diaryEntriesDetail",openedPanel:o,expandedPanel:i,currentPanel:"diaryEntriesDetail",detail:h,onEdit:this.handleEdit,editedPanel:u,onCancel:this.handleDiaryEntryDetailCancel,onSaveSettings:this.handleSaveSettingsDetailForm,diaryEntryFormValues:v.values,isSubmit:p})),"all"!==i&&!N||!c||r?null:I.default.createElement(V.Col,{xs:12,className:(0,w.default)({"col-panel-details":s})},I.default.createElement(q.default,{onExpand:this.handleExpand,name:de,openedPanel:o,onShow:this.handleShow,expandedPanel:i,currentPanel:de,onSaveSettings:this.handleSaveSettingsCreateForm,formValues:S.values,onCancel:this.handleCreateCancel,isCreatePanelVisible:c,componentForm:I.default.createElement(K.default,{isSubmit:p}),title:"Create Diary Entry"})))))},t}(A.PureComponent),c.propTypes={allDiaryEntry:F.default.arrayOf(F.default.object)},c.contextTypes={router:F.default.shape({history:F.default.object})},d=u))||d)||d)||d)||d)||d);t.default=me},"./src/components/pages/DiaryEntry/DiaryEntryCreate/DiaryEntryCreateForm.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s,r,l=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n(l),o=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n(o),c=a("./node_modules/babel-runtime/helpers/inherits.js"),u=n(c),m=a("./node_modules/react/react.js"),p=n(m),f=a("./node_modules/react-redux/es/index.js"),E=a("./node_modules/redux-form/es/index.js"),y=a("./src/components/form-fields/ValidatedInputFormGroup.js"),h=n(y),v=a("./src/components/form-fields/ValidatedTextareaFormGroup.js"),S=n(v),D=a("./src/components/form-fields/SelectFormGroup.js"),b=n(D),N=a("./src/components/form-fields/DateInput.js"),g=n(N),P=a("./src/components/pages/DiaryEntry/forms.validation.js"),C=a("./src/components/pages/DiaryEntry/forms.config.js"),T=a("./src/components/pages/DiaryEntry/DiaryEntryCreate/default-values.config.js"),_=a("./src/components/form-fields/TextareaWithButton.js"),R=n(_),j=(s=(0,E.reduxForm)({form:C.formSelectorNames.DIARY_ENTRIES_CREATE,validate:P.validateForm}))(r=function(e){function t(a){(0,i.default)(this,t);var n=(0,d.default)(this,e.call(this,a));n.state={recognitionStarted:!1},n.hasSpeechRecognition=!1,n.recognition=null;try{var s=window.SpeechRecognition||window.webkitSpeechRecognition;n.recognition=new s,n.recognition.lang="en-US",n.recognition.continuous=!0,n.hasSpeechRecognition=!0}catch(e){console.error(e)}return n.hasSpeechRecognition&&(n.recognition.onresult=function(e){var t=e.resultIndex,a=e.results[t][0].transcript,s=n.props.notes?n.props.notes+" ":"";n.props.dispatch((0,E.change)(C.formSelectorNames.DIARY_ENTRIES_CREATE,C.valuesNames.NOTE,s+a))}),n.startSpeach=n.startSpeach.bind(n),n.stopSpeach=n.stopSpeach.bind(n),n}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.props.initialize(T.defaultFormValues)},t.prototype.startSpeach=function(e){var t=this;e.preventDefault(),this.hasSpeechRecognition&&!this.state.recognitionStarted&&this.setState({recognitionStarted:!0},function(){return t.recognition.start()})},t.prototype.stopSpeach=function(e){var t=this;e.preventDefault(),this.hasSpeechRecognition&&this.state.recognitionStarted&&this.setState({recognitionStarted:!1},function(){return t.recognition.stop()})},t.prototype.render=function(){var e=this.props.isSubmit,t=new Date,a=t.getTime();return p.default.createElement("div",{className:"panel-body-inner"},p.default.createElement("form",{name:"diaryEntriesCreateForm",className:"form"},p.default.createElement("div",{className:"form-group-wrapper"},p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(E.Field,{label:C.valuesLabels.TYPE,name:C.valuesNames.TYPE,id:C.valuesNames.TYPE,options:C.noteTypeOptions,component:b.default,props:{isSubmit:e}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(R.default,{button:this.state.recognitionStarted?p.default.createElement("button",{className:"btn btn-success btn-inverse btn-square active",onClick:this.stopSpeach},p.default.createElement("i",{className:"fa fa-microphone"})):p.default.createElement("button",{className:"btn btn-success btn-inverse btn-square",onClick:this.startSpeach},p.default.createElement("i",{className:"fa fa-microphone"})),fieldProps:{label:C.valuesLabels.NOTE,name:C.valuesNames.NOTE,id:C.valuesNames.NOTE,component:S.default,props:{isSubmit:e}}}))),p.default.createElement("div",{className:"row-expand"},p.default.createElement("div",{className:"col-expand-left"},p.default.createElement(E.Field,{label:C.valuesLabels.AUTHOR,name:C.valuesNames.AUTHOR,id:C.valuesNames.AUTHOR,component:h.default,props:{disabled:!0}})),p.default.createElement("div",{className:"col-expand-right"},p.default.createElement(E.Field,{label:C.valuesLabels.DATE,name:C.valuesNames.DATE,id:C.valuesNames.DATE,component:g.default,props:{disabled:!0,value:a,format:"DD-MMM-YYYY"}}))))))},t}(m.PureComponent))||r;t.default=(0,f.connect)(function(e){return{notes:(0,E.formValueSelector)(C.formSelectorNames.DIARY_ENTRIES_CREATE)(e,C.valuesNames.NOTE)}})(j)},"./src/components/pages/DiaryEntry/DiaryEntryCreate/default-values.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFormValues=void 0;var n,s=a("./node_modules/babel-runtime/helpers/defineProperty.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(s),l=a("./src/components/pages/DiaryEntry/forms.config.js");t.defaultFormValues=(n={},(0,r.default)(n,l.valuesNames.AUTHOR,"bob.smith@gmail.com"),(0,r.default)(n,l.valuesNames.SOURCE,"openehr"),n)},"./src/components/pages/DiaryEntry/DiaryEntryDetail/DiaryEntryDetail.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n(s),l=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),i=n(l),o=a("./node_modules/babel-runtime/helpers/inherits.js"),d=n(o),c=a("./node_modules/react/react.js"),u=n(c),m=a("./src/components/plugin-page-component/PluginDetailPanel.js"),p=n(m),f=a("./src/components/pages/DiaryEntry/DiaryEntryDetail/DiaryEntryDetailForm.js"),E=n(f),y=a("./src/utils/time-helpers.utils.js"),h=a("./src/components/pages/DiaryEntry/forms.config.js"),v=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onExpand,a=e.openedPanel,n=e.expandedPanel,s=e.currentPanel,r=e.onEdit,l=e.editedPanel,i=e.onCancel,o=e.onSaveSettings,d=e.diaryEntryFormValues,c=e.isSubmit,m=this.props.detail;m=m||{};var f=(0,y.getDDMMMYYYY)(m[h.valuesNames.DATE_CREATED]);return u.default.createElement("div",{className:"section-detail"},u.default.createElement("div",{className:"panel-group accordion"},"diaryEntriesPanel"!==n&&"all"!==n||l.diaryEntriesPanel?null:u.default.createElement(p.default,{onExpand:t,name:"diaryEntriesPanel",title:"Diary Entry Item",isOpen:"diaryEntriesPanel"===a,currentPanel:s,onEdit:r,editedPanel:l,onCancel:i,onSaveSettings:o,formValues:d,isBtnShowPanel:!1},u.default.createElement("div",{className:"panel-body-inner"},u.default.createElement("div",{className:"form"},u.default.createElement("div",{className:"form-group-wrapper"},u.default.createElement("div",null,u.default.createElement("div",{className:"row-expand"},u.default.createElement("div",{className:"col-expand-left"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label"},h.valuesLabels.TYPE),u.default.createElement("div",{className:"form-control-static"},m[h.valuesNames.TYPE])))),u.default.createElement("div",{className:"row-expand"},u.default.createElement("div",{className:"col-expand-left"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label"},h.valuesLabels.NOTE),u.default.createElement("div",{className:"form-control-static"},m[h.valuesNames.NOTE])))),u.default.createElement("div",{className:"row-expand"},u.default.createElement("div",{className:"col-expand-left"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label"},h.valuesLabels.AUTHOR),u.default.createElement("div",{className:"form-control-static"},m[h.valuesNames.AUTHOR]))),u.default.createElement("div",{className:"col-expand-right"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label"},h.valuesLabels.DATE),u.default.createElement("div",{className:"form-control-static"},f)))),u.default.createElement("div",{className:"row-expand"},u.default.createElement("div",{className:"col-expand-left"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{className:"control-label"},h.valuesLabels.SOURCE),u.default.createElement("div",{className:"form-control-static"},m[h.valuesNames.SOURCE]))))))))),"diaryEntriesPanel"!==n&&"all"!==n||!l.diaryEntriesPanel?null:u.default.createElement(p.default,{onExpand:t,name:"diaryEntriesPanel",title:"Edit Diary Entry Item",isOpen:"diaryEntriesPanel"===a,currentPanel:s,onEdit:r,editedPanel:l,onCancel:i,onSaveSettings:o,formValues:d,isBtnShowPanel:!1},u.default.createElement(E.default,{detail:m,isSubmit:c}))))},t}(c.PureComponent);t.default=v},"./src/components/pages/DiaryEntry/DiaryEntryDetail/DiaryEntryDetailForm.js":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s,r,l=a("./node_modules/babel-runtime/helpers/defineProperty.js"),i=n(l),o=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),d=n(o),c=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n(c),m=a("./node_modules/babel-runtime/helpers/inherits.js"),p=n(m),f=a("./node_modules/react/react.js"),E=n(f),y=a("./node_modules/react-redux/es/index.js"),h=a("./node_modules/redux-form/es/index.js"),v=a("./src/components/form-fields/ValidatedInputFormGroup.js"),S=n(v),D=a("./src/components/form-fields/ValidatedTextareaFormGroup.js"),b=n(D),N=a("./src/components/form-fields/SelectFormGroup.js"),g=n(N),P=a("./src/components/form-fields/DateInput.js"),C=n(P),T=a("./src/components/pages/DiaryEntry/forms.config.js"),_=a("./src/components/pages/DiaryEntry/forms.validation.js"),R=a("./src/components/form-fields/TextareaWithButton.js"),j=n(R),x=(s=(0,h.reduxForm)({form:T.formSelectorNames.DIARY_ENTRIES_DETAIL,validate:_.validateForm}))(r=function(e){function t(a){(0,d.default)(this,t);var n=(0,u.default)(this,e.call(this,a));n.state={recognitionStarted:!1},n.hasSpeechRecognition=!1,n.recognition=null;try{var s=window.SpeechRecognition||window.webkitSpeechRecognition;n.recognition=new s,n.recognition.lang="en-US",n.recognition.continuous=!0,n.hasSpeechRecognition=!0}catch(e){console.error(e)}return n.hasSpeechRecognition&&(n.recognition.onresult=function(e){var t=e.resultIndex,a=e.results[t][0].transcript,s=n.props.notes?n.props.notes+" ":"";n.props.dispatch((0,h.change)(T.formSelectorNames.DIARY_ENTRIES_DETAIL,T.valuesNames.NOTE,s+a))}),n.startSpeach=n.startSpeach.bind(n),n.stopSpeach=n.stopSpeach.bind(n),n}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.detail;(0,e.initialize)(this.defaultValuesForm(t))},t.prototype.defaultValuesForm=function(e){var t;return t={},(0,i.default)(t,T.valuesNames.TYPE,e[T.valuesNames.TYPE]),(0,i.default)(t,T.valuesNames.NOTE,e[T.valuesNames.NOTE]),(0,i.default)(t,T.valuesNames.AUTHOR,e[T.valuesNames.AUTHOR]),t},t.prototype.startSpeach=function(e){var t=this;e.preventDefault(),this.hasSpeechRecognition&&!this.state.recognitionStarted&&this.setState({recognitionStarted:!0},function(){return t.recognition.start()})},t.prototype.stopSpeach=function(e){var t=this;e.preventDefault(),this.hasSpeechRecognition&&this.state.recognitionStarted&&this.setState({recognitionStarted:!1},function(){return t.recognition.stop()})},t.prototype.render=function(){var e=this.props,t=e.detail,a=e.isSubmit;return console.log(this.props),E.default.createElement("div",{className:"panel-body-inner"},E.default.createElement("form",{name:"diaryEntryPanelForm",className:"form"},E.default.createElement("div",{className:"form-group-wrapper"},E.default.createElement("div",{className:"row-expand"},E.default.createElement("div",{className:"col-expand-left"},E.default.createElement(h.Field,{label:T.valuesLabels.TYPE,name:T.valuesNames.TYPE,id:T.valuesNames.TYPE,options:T.noteTypeOptions,component:g.default,props:{isSubmit:a}}))),E.default.createElement("div",{className:"row-expand"},E.default.createElement("div",{className:"col-expand-left"},E.default.createElement(j.default,{button:this.state.recognitionStarted?E.default.createElement("button",{className:"btn btn-success btn-inverse btn-square active",onClick:this.stopSpeach},E.default.createElement("i",{className:"fa fa-microphone"})):E.default.createElement("button",{className:"btn btn-success btn-inverse btn-square",onClick:this.startSpeach},E.default.createElement("i",{className:"fa fa-microphone"})),fieldProps:{label:T.valuesLabels.NOTE,name:T.valuesNames.NOTE,id:T.valuesNames.NOTE,component:b.default,props:{isSubmit:a}}}))),E.default.createElement("div",{className:"row-expand"},E.default.createElement("div",{className:"col-expand-left"},E.default.createElement(h.Field,{label:T.valuesLabels.AUTHOR,name:T.valuesNames.AUTHOR,id:T.valuesNames.AUTHOR,component:S.default,props:{disabled:!0}})),E.default.createElement("div",{className:"col-expand-right"},E.default.createElement(h.Field,{label:T.valuesLabels.DATE,name:T.valuesNames.DATE,id:T.valuesNames.DATE,component:C.default,props:{disabled:!0,value:t[T.valuesNames.DATE_CREATED],format:"DD-MMM-YYYY"}}))))))},t}(f.PureComponent))||r;t.default=(0,y.connect)(function(e){return{notes:(0,h.formValueSelector)(T.formSelectorNames.DIARY_ENTRIES_DETAIL)(e,T.valuesNames.NOTE)}})(x)},"./src/components/pages/DiaryEntry/forms.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.valuesNames={TYPE:"noteType",NOTE:"notes",AUTHOR:"author",DATE:"currentDate",DATE_CREATED:"dateCreated",SOURCE:"source",SOURCE_ID:"sourceId"},t.valuesLabels={TYPE:"Type",NOTE:"Note",AUTHOR:"Author",DATE:"Date",SOURCE:"Source",SOURCE_ID:"Source ID"},t.formSelectorNames={DIARY_ENTRIES_CREATE:"diaryEntriesCreateFormSelector",DIARY_ENTRIES_DETAIL:"diaryEntriesDetailFormSelector"},t.noteTypeOptions=[{value:"Exam Report",title:"Exam Report"},{value:"Note",title:"Note"},{value:"Hypothesis",title:"Hypothesis"}]},"./src/components/pages/DiaryEntry/forms.validation.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateForm=void 0;var n=a("./src/components/pages/DiaryEntry/forms.config.js"),s=function(e){var t={};return t[n.valuesNames.TYPE]=e[n.valuesNames.TYPE]?null:"You must enter a value.",t[n.valuesNames.NOTE]=e[n.valuesNames.NOTE]?null:"You must enter a value.",t};t.validateForm=s},"./src/components/pages/DiaryEntry/selectors.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diaryEntryCreateFormStateSelector=t.diaryEntryDetailFormSelector=t.patientDiaryEntryDetailSelector=t.patientDiaryEntrySelector=void 0;var n=a("./node_modules/lodash/fp/getOr.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("./node_modules/reselect/lib/index.js"),l=a("./src/utils/plugin-helpers.utils.js"),i=a("./src/components/pages/DiaryEntry/forms.config.js"),o=(0,s.default)({},"form.diaryEntriesDetailFormSelector"),d=(0,s.default)({},"form.diaryEntriesCreateFormSelector"),c=(0,r.createSelector)(function(e){return e.patientsDiaryEntry},function(e,t){return(0,s.default)(null,"match.params.userId",t)},function(e,t){return{allDiaryEntry:l.operationsOnCollection.modificate(e[t],[{key:i.valuesNames.DATE_CREATED,fn:function(e){return new Date(e).getTime()}}]),userId:t}}),u=(0,r.createSelector)(function(e){return e.diaryEntryDetail},function(e,t){return(0,s.default)(null,"match.params.userId",t)},function(e,t){return{diaryEntryDetail:e[t],userId:t}}),m=(0,r.createSelector)(o,function(e){return{diaryEntryFormState:e}}),p=(0,r.createSelector)(d,function(e){return{diaryEntryCreateFormState:e}});t.patientDiaryEntrySelector=c,t.patientDiaryEntryDetailSelector=u,t.diaryEntryDetailFormSelector=m,t.diaryEntryCreateFormStateSelector=p},"./src/components/pages/DiaryEntry/table-columns.config.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultColumnsSelected=t.columnsConfig=void 0;var n=a("./src/utils/time-helpers.utils.js");t.columnsConfig=[{key:"noteType",title:"Type",width:"23%"},{key:"author",title:"Author",width:"33%"},{key:"dateCreated",title:"Date Created",transformer:n.getDDMMMYYYY,width:"25%"},{key:"source",title:"Source",width:"19%"},{key:"sourceId",title:"sourceId",width:0,display:"none"}],t.defaultColumnsSelected={noteType:!0,author:!0,dateCreated:!0,source:!0,sourceId:!0}}});